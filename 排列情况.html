<!DOCTYPE html>
<html lang="zh-cmn">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>

</body>
<!--<script src="js.js"></script>-->
<script>
    "use strict";
    //阶乘函数
    function factorial(num) {
        if (num <= 1) {
            return 1;
        } else {
            return num * factorial(num - 1);
        }
    }
    //数组去重
    function unique3(arr) {
        let res = [];
        let json = {};
        for (let i = 0; i < arr.length; i++) {
            if (!json[arr[i]]) {
                res.push(arr[i]);
                json[arr[i]] = 1;
            }
        }
        return res;
    }

    //数组->字符串  操作
    function toString(arr) {
        let str = "";
        for (let i = 0; i < arr.length; i++) {
            str += arr[i];
        }
        return str;
    }
    //字符串->数组  操作
    function toArray(str) {
        let arr = [];
        for (let i = 0; i < str.length; i++) {
            arr.push(str[i]);
        }
        return arr;
    }
    //核心函数
    function setp(step, str, number) {
        let string = []
        for (let i = 0; i < number; i++) {
            string[i] = str.concat();
            string[i].splice(i, 0, step);
            console.log(toString(string[i]));
        }
        return string;
    }

    const a = 'ABCE颢';


    let sult = [];
    console.log(a + "\t一共有：" + factorial(a.length) + "种结果.");

    let string = [];
    console.log("----------------------");
    console.log("计算过程：第一步");
    string = (function (step) {
        string[0] = step;
        console.log(string[0]);
        return string;
    })(a[0], string);
    console.log("----------------------");
    console.log("计算过程：第二步");
    string = (function (step, string) {
        string = setp(step, string, 2);
        return string;
    })(a[1], string);
    console.log("----------------------");
    console.log("计算过程：第三步");
    string = (function (step, string) {
        for (let i = 0; i < string.length; i++) {
            console.log(" 第" + i + "小步");
            string[i] = setp(step, string[i], 3);
            console.log("-----------");
        }
        return string;
    })(a[2], string);
    console.log("----------------------");
    console.log("计算过程：第四步");
    string = (function (step, string) {
        for (let i = 0; i < 2; i++) {
            console.log(" 第" + i + "小步");
            for (let j = 0; j < 3; j++) {
                console.log("  第" + j + "小步");
                string[i][j] = setp(step, string[i][j], 4);
                console.log("-----");
            }
            console.log("-----------");
        }
        return string;
    })(a[3], string);
    console.log("----------------------");
    console.log("计算过程：第五步");
    //    string = (function (step, string) {
    //        for (let i = 0; i < 2; i++) {
    //            console.log(" 第" + i + "小步");
    //            for (let j = 0; j < 3; j++) {
    //                console.log("  第" + j + "小步");
    //                    for(let k=0;k<4;k++){
    //                        console.log("   第" + k + "小步");
    //                        string[i][j][k] = setp(step, string[i][j][k],5);
    //                        console.log("---");
    //                    }
    //                console.log("-----");
    //            }
    //            console.log("-----------");
    //        }
    //        return string;
    //    })(a[4], string);
    //    console.log("----------------------------------------------------------------");


    var length = a.length;
    function test(string,number) {
        for (let i = 0; i < number; i++) {
            string[i] = setp(a[number], string[i], (number+1));
        }
    }
    function test2(string,number) {
        for(let i=0;i<number;i++){
            test(string[i],number+1);
        }
    }
    function test3(string,number) {
        for(let i=0;i<number;i++){
            test2(string[i],number+1);
        }
    }
    test3(string,2);



    console.log(string);


</script>
</html>